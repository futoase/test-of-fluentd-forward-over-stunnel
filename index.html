<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Test-of-fluentd-forward-over-stunnel by futoase</title>
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="javascripts/respond.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!--[if lt IE 8]>
    <link rel="stylesheet" href="stylesheets/ie.css">
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  </head>
  <body>
      <div id="header">
        <nav>
          <li class="fork"><a href="https://github.com/futoase/test-of-fluentd-forward-over-stunnel">View On GitHub</a></li>
          <li class="downloads"><a href="https://github.com/futoase/test-of-fluentd-forward-over-stunnel/zipball/master">ZIP</a></li>
          <li class="downloads"><a href="https://github.com/futoase/test-of-fluentd-forward-over-stunnel/tarball/master">TAR</a></li>
          <li class="title">DOWNLOADS</li>
        </nav>
      </div><!-- end header -->

    <div class="wrapper">

      <section>
        <div id="title">
          <h1>Test-of-fluentd-forward-over-stunnel</h1>
          <p>test of fluentd for packet of forward over stunnel.</p>
          <hr>
          <span class="credits left">Project maintained by <a href="https://github.com/futoase">futoase</a></span>
          <span class="credits right">Hosted on GitHub Pages &mdash; Theme by <a href="https://twitter.com/michigangraham">mattgraham</a></span>
        </div>

        <h2>
<a name="test-of-fluentd-forward-over-stunnel" class="anchor" href="#test-of-fluentd-forward-over-stunnel"><span class="octicon octicon-link"></span></a>test-of-fluentd-forward-over-stunnel</h2>

<p><a href="https://travis-ci.org/futoase/test-of-fluentd-forward-over-stunnel"><img src="https://travis-ci.org/futoase/test-of-fluentd-forward-over-stunnel.svg?branch=master" alt="Build Status"></a></p>

<p><img src="https://cloud.githubusercontent.com/assets/72997/2545534/25e8df9e-b619-11e3-9105-078cf42d2450.jpg" alt="structure"></p>

<h2>
<a name="prerequired" class="anchor" href="#prerequired"><span class="octicon octicon-link"></span></a>Prerequired</h2>

<ul>
<li><a href="https://www.virtualbox.org/">virtualbox</a></li>
<li><a href="http://www.vagrantup.com/">vagrant</a></li>
<li><a href="http://www.packer.io/">packer</a></li>
<li><a href="http://www.packer.io/">ansible</a></li>
</ul><h2>
<a name="how-to-setup" class="anchor" href="#how-to-setup"><span class="octicon octicon-link"></span></a>How to setup?</h2>

<h2>
<a name="server" class="anchor" href="#server"><span class="octicon octicon-link"></span></a>server</h2>

<pre><code>&gt; vagrant up --provision server
</code></pre>

<h2>
<a name="client" class="anchor" href="#client"><span class="octicon octicon-link"></span></a>client</h2>

<pre><code>&gt; vagrant up --provision client
</code></pre>

<h2>
<a name="testing-of-in_tail" class="anchor" href="#testing-of-in_tail"><span class="octicon octicon-link"></span></a>testing of in_tail.</h2>

<h3>
<a name="on-client" class="anchor" href="#on-client"><span class="octicon octicon-link"></span></a>on client</h3>

<pre><code>&gt; cd /var/dummy-log
&gt; node index.js -f /tmp/dummy.log -t 100
</code></pre>

<h3>
<a name="on-server" class="anchor" href="#on-server"><span class="octicon octicon-link"></span></a>on server</h3>

<pre><code>&gt; tail -f /var/log/td-agent/app/base.log
</code></pre>

<h2>
<a name="you-try-send-packet-of-fluentd-from-client-to-server" class="anchor" href="#you-try-send-packet-of-fluentd-from-client-to-server"><span class="octicon octicon-link"></span></a>You try send packet of fluentd from client to server</h2>

<ol>
<li>You try this command on the client.</li>
</ol><pre><code>&gt; vagrant ssh client
&gt; echo '{"message": "welcome to underground"}' | fluent-cat toshinou.kyoko.love
</code></pre>

<ol>
<li>You check td-agent.log on the server.</li>
</ol><pre><code>&gt; vagrant ssh server
&gt; tail -f /var/log/td-agent/td-agent.log
2014-03-27T18:13:31+09:00       toshinou.kyoko.love     {"message":"welcome to underground"}
</code></pre>

<h2>
<a name="license" class="anchor" href="#license"><span class="octicon octicon-link"></span></a>LICENSE</h2>

<p>MIT.</p>
      </section>

    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
    
  </body>
</html>